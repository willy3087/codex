# Codex Gateway Environment Variables
# Copy this file to .env and fill in the values

# ==============================================================================
# Server Configuration
# ==============================================================================

# Port to bind the server to (Cloud Run uses PORT env var)
PORT=8080

# Host to bind to (0.0.0.0 for Cloud Run)
GATEWAY_HOST=0.0.0.0

# Request timeout in seconds
REQUEST_TIMEOUT_SECS=300

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Rust logging level (trace, debug, info, warn, error)
RUST_LOG=info,codex_gateway=debug

# ==============================================================================
# Body Size Limits
# ==============================================================================

# Default body size limit (bytes) - 2MB
GATEWAY_BODY_LIMIT_DEFAULT=2097152

# JSON-RPC body size limit (bytes) - 1MB
GATEWAY_BODY_LIMIT_JSONRPC=1048576

# Webhook body size limit (bytes) - 10MB
GATEWAY_BODY_LIMIT_WEBHOOK=10485760

# WebSocket body size limit (bytes) - 1MB
GATEWAY_BODY_LIMIT_WEBSOCKET=1048576

# Health check body size limit (bytes) - 1KB
GATEWAY_BODY_LIMIT_HEALTH=1024

# Enable body size limits (true/false)
GATEWAY_BODY_LIMITS_ENABLED=true

# ==============================================================================
# WebSocket Configuration
# ==============================================================================

# Maximum number of concurrent WebSocket connections
GATEWAY_WEBSOCKET_MAX_CONNECTIONS=5000

# ==============================================================================
# Authentication & API Keys
# ==============================================================================

# Gateway API Key for internal/service-to-service authentication
# Generate with: openssl rand -base64 32
GATEWAY_API_KEY=your-gateway-api-key-here

# ==============================================================================
# External APIs
# ==============================================================================

# Anthropic API Key (required)
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenAI API Key (optional - fallback)
OPENAI_API_KEY=sk-your-key-here

# Pipedrive API Token (optional - for CRM integration)
PIPEDRIVE_API_TOKEN=your-pipedrive-token-here

# ==============================================================================
# Google Cloud Platform Configuration
# ==============================================================================

# GCP Project ID
GCP_PROJECT_ID=elaihub-prod

# GCS Bucket for storing artifacts
GCS_BUCKET_NAME=elaihub-prod-codex-artifacts

# Firestore Database ID
FIRESTORE_PROJECT_ID=elaihub-prod
FIRESTORE_DATABASE_ID=(default)

# ==============================================================================
# Cloud SQL Configuration (if using)
# ==============================================================================

# Cloud SQL instance connection name
# Format: project:region:instance
CLOUD_SQL_CONNECTION_NAME=elaihub-prod:us-central1:sandbox

# Database credentials (use Secret Manager in production)
# DB_USER=your-db-user
# DB_PASSWORD=your-db-password
# DB_NAME=your-db-name

# ==============================================================================
# Monitoring & Observability
# ==============================================================================

# Enable Prometheus metrics endpoint
ENABLE_METRICS=true

# Enable detailed tracing
ENABLE_TRACING=false

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn

# ==============================================================================
# Development/Testing
# ==============================================================================

# Enable development mode (more verbose logging, relaxed validation)
DEV_MODE=false

# Test API key (for testing purposes only)
# TEST_API_KEY=test-key-12345
