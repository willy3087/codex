# Codex Wrapper Cloud Run Configuration

# MCP Servers Configuration
# Registra servidores MCP externos que podem ser chamados pelo Codex

[mcp_servers.pipedrive]
# Usando o MCP Pipedrive via stdio (local no mesmo container)
command = "python3.12"
args = ["/app/mcp-servers/pipedrive/server.py"]

# Variáveis de ambiente do MCP Pipedrive
# PIPEDRIVE_API_TOKEN deve ser definida no Cloud Run
[mcp_servers.pipedrive.env]
TRANSPORT = "stdio"
# PIPEDRIVE_API_TOKEN será herdada do ambiente do Cloud Run

# Timeouts
startup_timeout_sec = 30 # Tempo para inicializar conexão
tool_timeout_sec = 120   # Timeout para cada chamada de ferramenta

# Exemplo de configuração local via stdio (caso queira rodar localmente):
# [mcp_servers.pipedrive-local]
# command = "docker"
# args = ["run", "-i", "--rm", "-e", "PIPEDRIVE_API_TOKEN", "us-central1-docker.pkg.dev/elaihub-prod/pipedrive-mcp/server:latest"]
# startup_timeout_sec = 30
# tool_timeout_sec = 120

# ===== Outras Configurações do Codex =====

# Modelo padrão
model = "gpt-4o-mini"

# Política de aprovação para comandos
# Opções: "auto", "never", "ask"
approval_policy = "auto"

# Política de sandbox
# Opções: "none", "read-only", "full"
sandbox_policy = "danger-full-access"

# Nível de log
# RUST_LOG será sobrescrito pela variável de ambiente se definida
